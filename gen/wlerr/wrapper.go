package wlerr

import (
	"fmt"
)

type WrapperFn func(err error, format string, args ...interface{}) error

// MakeWrapper returns a function that wraps and annotates a parent error.
// prefix is the text that is prepended to all errors generated by the
// function.
func MakeWrapper(prefix string) WrapperFn {
	return func(err error, format string, args ...interface{}) error {
		suffix := fmt.Sprintf(format, args...)
		return Wrapf(err, "%s: %s", prefix, suffix)
	}
}
